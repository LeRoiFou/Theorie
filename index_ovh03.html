<!DOCTYPE html>
<html lang="fr">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>OVH - Chapitre III</title>
        <link rel="stylesheet" href="./style.css">
</head>

<hr>
<ul>
        <h4>Tutoriels :</h4>
        <li>
                <a target="_blank"
                        href="https://www.youtube.com/watch?v=brW5YDGXzrA&list=PL0DynEzr_sE67g_vQ_VsRhihalJxmU4Ur">Vid√©os
                        YT (nom de domaine et h√©bergement d'un site web √† partir d'un CMS)</a>
        </li>
        <li><a target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-essential-information?id=kb_article_view&sysparm_article=KB0050407">
                        L'essentiel pour commencer avec Public Cloud</a>
                <ul>
                        <li><a target="_blank"
                                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-create-project?id=kb_article_view&sysparm_article=KB0050614">Cr√©er
                                        votre premier projet Public Cloud</a> : 1er projet nomm√© Project 2025-11-25
                                (mode d√©couverte)
                        </li>
                        <li><a target="_blank"
                                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-control-panel?id=kb_article_view&sysparm_article=KB0050409">Se
                                        familiariser avec l'interface Public Cloud
                                </a></li>
                        <li><a target="_blank" id="prio"
                                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011">Comment
                                        cr√©er une instance Public Cloud et s'y connecter</a></li>
                </ul>
        </li>
        <li>OVHcloud SecNumCloud ?</li>
</ul>
<hr>

<body>
        <a target="_blank"
                href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011">
                <h1>Chapitre III : Comment cr√©er une instance Public Cloud et s'y connecter</h1>
        </a><br>

        <!-- ****************** Chapitre I ****************** -->
        <h2><a target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011#create-ssh">1.
                        Cr√©er des cl√©s SSH</a></h2>

        <p>Les cl√©s publiques et priv√©es SSH forment une paire asym√©trique utilis√©e pour s√©curiser l'authentification
                lors
                des connexions √† distance, sans mot de passe. <br>
                La cl√© priv√©e reste secr√®te sur votre machine (client), tandis que
                la cl√© publique est partag√©e avec le serveur distant, qui l'utilise pour v√©rifier votre identit√© via un
                d√©fi
                cryptographique. Cela repose sur la cryptographie √† cl√© publique, comme RSA ou ECDSA, o√π la cl√© publique
                chiffre
                un message que seule la cl√© priv√©e peut d√©chiffrer.</p>
        <ul>
                <li><a target="_blank"
                                href="https://www.it-connect.fr/chapitres/quest-ce-que-ssh/#google_vignette">Qu‚Äôest-ce
                                que SSH ?
                        </a></li>
                <li><a target="_blank" href="https://www.youtube.com/watch?v=gxQKw7A6qDM">Le protocole SSH pour
                                les d√©butants</a></li>
                <li><a target="_blank"
                                href="https://drane.ac-lyon.fr/spip/IMG/scenari/ubuntu2diapo/co/reseau_openssh.html?mode=html">SSH
                                -
                                autre d√©finition</a></li>
        </ul>

        <h3>Cr√©ation de cl√©s SSH via Windows PowerShell</h3>

        <p>Pour cr√©er les cl√©s publiques et priv√©es pour le protocole SSH, il faut suivre les √©tapes suivantes :</p>
        <ul>
                <li>Dans "Rechercher" de Windows, saisir : Windows PowerShell (terminal)</li>
                <li>Saisir dans le terminal : ssh-keygen -h</li>
                <ul>
                        <li>ssh-keygen : programme qui g√©n√®re les paires de cl√©s SSH</li>
                        <li>-h : option ‚Äúhelp‚Äù</li>
                        <li>Les cl√©s sont g√©n√©r√©es dans le r√©pertoire C:\users\LRCOM\.ssh</li>
                </ul>
                <li>R√©cup√©rer la cl√© publique, en saisissant dans le shell (terminal) : Get-Content
                        "C:\Users\LRCOM\.ssh\id_ed25519.pub"</li>
                <li>Copier la cl√© publique g√©n√©r√©e</li>
        </ul>



        <!-- ****************** Chapitre II ****************** -->
        <h2><a target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011#import-ssh">2.
                        Importer les cl√©s SSH</a></h2>

        <p>Dans l'espace client OVHcloud, section Public Cloud üëâ projet concern√© üëâ Param√®tres üëâ Cl√©s SSH, ajouter
                la cl√© publique en entrant un nom et la cha√Æne de cl√©. <br> Les caract√®res composant cette cl√© doivent
                repr√©senter une unique ligne pour √™tre prise en compte par OVHCloud.</p><br>


        <!-- ****************** Chapitre III ****************** -->
        <h2><a target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011">3.
                        Pr√©parer la configuration r√©seau</a></h2>

        <p>Pour un mini projet simple, opter pour le mode Public (exposition directe IPv4/IPv6 √† Internet) sans
                r√©seau priv√© initial ; passer directement √† l'√©tape suivante si pas de vRack n√©cessaire.</p>

        <table>
                <thead>
                        <tr>
                                <th>Notion</th>
                                <th>D√©finition simple</th>
                                <th>R√¥le avec vRack / OVHcloud</th>
                        </tr>
                </thead>
                <tbody>
                        <tr>
                                <td>vRack</td>
                                <td>R√©seau priv√© OVHcloud qui relie tes serveurs et services entre eux, sans passer par
                                        Internet public.</td>
                                <td>Permet de faire circuler tes donn√©es sensibles entre tes ressources (serveurs
                                        d√©di√©s, Public Cloud, etc.) sur un r√©seau isol√© des autres clients OVH et du web
                                        public, tant que tu n‚Äôexposes pas toi‚Äëm√™me ces services via une IP publique ou
                                        une mauvaise config.</td>
                        </tr>
                        <tr>
                                <td>LAN isol√©</td>
                                <td>R√©seau local (comme chez toi derri√®re ta box) o√π seules les machines raccord√©es √† ce
                                        r√©seau peuvent se parler.</td>
                                <td>Le vRack se comporte comme un LAN isol√© h√©berg√© chez OVHcloud : seul ton parc de
                                        machines raccord√©es y a acc√®s.</td>
                        </tr>
                        <tr>
                                <td>Switch virtuel</td>
                                <td>√âquivalent logiciel d‚Äôun switch physique (multiprise r√©seau) qui relie plusieurs
                                        machines sur un m√™me r√©seau local.</td>
                                <td>Le vRack fonctionne comme un gros switch virtuel : tu ‚Äúbranches‚Äù tes
                                        serveurs/instances dessus via leurs interfaces priv√©es.</td>
                        </tr>
                        <tr>
                                <td>VLAN priv√©</td>
                                <td>‚ÄúSous‚Äër√©seau‚Äù logique √† l‚Äôint√©rieur d‚Äôun switch, s√©par√© des autres VLAN, r√©serv√© √†
                                        un usage pr√©cis.</td>
                                <td>Dans le vRack, tu peux cr√©er plusieurs VLAN priv√©s (prod, pr√©prod, BDD, etc.) pour
                                        segmenter ton r√©seau tout en restant sur l‚Äôinfra vRack.</td>
                        </tr>
                        <tr>
                                <td>Cluster</td>
                                <td>Groupe de machines qui travaillent ensemble pour fournir un service (BDD,
                                        Kubernetes, serveurs applicatifs‚Ä¶).</td>
                                <td>La communication interne du cluster passe typiquement par un r√©seau priv√© comme le
                                        vRack, pour limiter l‚Äôexposition au public.</td>
                        </tr>
                        <tr>
                                <td>VLAN de prod / VLAN de pr√©prod</td>
                                <td>Deux environnements s√©par√©s : prod (r√©el, pour les utilisateurs) et pr√©prod (tests
                                        avanc√©s avant mise en ligne).</td>
                                <td>On cr√©e par exemple un VLAN ‚Äúprod‚Äù et un VLAN ‚Äúpr√©prod‚Äù dans le m√™me vRack pour
                                        isoler les flux tout en gardant une administration centralis√©e.</td>
                        </tr>
                        <tr>
                                <td>Confidentialit√© des donn√©es</td>
                                <td>Seules tes ressources rattach√©es au vRack voient le trafic qui y circule ; les
                                        autres clients OVH et Internet n‚Äôy ont pas acc√®s directement.</td>
                                <td>Le vRack fournit un fort niveau d‚Äôisolation r√©seau, mais la confidentialit√© d√©pend
                                        aussi de ta configuration (pare‚Äëfeu, IP publiques, comptes, etc.).</td>
                        </tr>
                </tbody>
        </table><br>


        <!-- ****************** Chapitre IV ****************** -->
        <h2><a id="prio" target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011">4.
                        Cr√©er
                        l'instance (VM ‚áÑ compute)</a></h2>

        <ul>
                <li>S√©lectionnez le mod√®le (flavor) <strong>üëâ un petit mod√®le comme "Discovery" pour des tests
                                :</strong>
                        <a target="_blank" href="(https://www.ovhcloud.com/fr/public-cloud/prices/)">[1]</a>
                        <a target="_blank" href="(https://www.ovhcloud.com/en/public-cloud/virtual-instances/)">[2]</a>
                        <a target="_blank"
                                href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011)">[3]</a>
                </li><br>

                <table>
                        <thead>
                                <tr>
                                        <th>Caract√©ristique</th>
                                        <th>Ce que c‚Äôest</th>
                                        <th>Ce que √ßa implique pour mon petit projet FastAPI</th>
                                </tr>
                        </thead>
                        <tbody>
                                <tr>
                                        <td>2 Go de RAM</td>
                                        <td>M√©moire vive utilis√©e par l‚ÄôOS, FastAPI, le serveur web (Uvicorn/Gunicorn),
                                                et √©ventuellement un peu de cache.</td>
                                        <td>Largement suffisant pour un petit service FastAPI avec menu d√©roulant, sans
                                                traitements lourds ni grande base en m√©moire.</td>
                                </tr>
                                <tr>
                                        <td>1 vCore (‚âà 2 GHz)</td>
                                        <td>C≈ìur CPU virtuel qui ex√©cute le code (Python, FastAPI, OS).</td>
                                        <td>Adapte tr√®s bien pour un site quasi statique ou une API l√©g√®re avec peu de
                                                trafic simultan√©.</td>
                                </tr>
                                <tr>
                                        <td>25 Go NVMe</td>
                                        <td>Disque syst√®me rapide (SSD NVMe) pour l‚ÄôOS, le code FastAPI, les logs et
                                                quelques fichiers. C'est le stockage (I/O)</td>
                                        <td>Suffisant pour mon projet (code + d√©pendances + logs). Limite seulement si
                                                je stocke de gros fichiers ou beaucoup de donn√©es.</td>
                                </tr>
                                <tr>
                                        <td>100 Mbit/s</td>
                                        <td>D√©bit r√©seau maximal th√©orique d‚Äôenviron 100 M√©gabits par seconde vers
                                                Internet.</td>
                                        <td>Tr√®s largement suffisant pour servir un petit site/API avec des r√©ponses
                                                l√©g√®res en JSON/HTML.</td>
                                </tr>
                                <tr>
                                        <td>R√©gion 1-AZ</td>
                                        <td>R√©gion g√©ographique (ex. GRA en France) avec au moins une ‚Äúzone de
                                                disponibilit√©‚Äù g√©r√©e par OVHcloud.</td>
                                        <td>Je choisis une r√©gion proche (ex. GRA) pour la latence. Pour un petit projet
                                                perso, je n'ai pas besoin de g√©rer moi-m√™me plusieurs AZ.</td>
                                </tr>
                                <tr>
                                        <td>Mod√®le D2-2 (Discovery)</td>
                                        <td>Petite instance de test avec ressources partag√©es (1 vCPU, 2 Go RAM, 25 Go
                                                NVMe).</td>
                                        <td>Tr√®s adapt√©e pour mon FastAPI simple de validation de menu d√©roulant, avec
                                                un co√ªt horaire faible tant que j'√©teins/supprimes quand je n‚Äôen ai pas
                                                besoin. </td>
                                </tr>
                        </tbody>
                </table><br>

                <li>
                        <p><a target="_blank"
                                        href="https://help.ovhcloud.com/csm/fr-public-cloud-deployments-modes?id=kb_article_view&sysparm_article=KB0066031">Choisissez
                                        une r√©gion proche</a> <strong>üëâ r√©gion 1-AZ pour un petit mod√®le</strong></p>
                </li><br>

                <table>
                        <thead>
                                <tr>
                                        <th>Mode / notion</th>
                                        <th>D√©finition</th>
                                        <th>Avantages principaux</th>
                                        <th>Limites</th>
                                        <th>Cas d‚Äôusage typiques</th>
                                </tr>
                        </thead>
                        <tbody>
                                <tr>
                                        <td>AZ (Availability Zone)</td>
                                        <td>Unit√© d‚Äôinfrastructure compos√©e d‚Äôun ou plusieurs datacenters isol√©s dans
                                                une r√©gion g√©ographique o√π sont h√©berg√©s les services Public Cloud.</td>
                                        <td>Isolation des pannes locales, redondance interne (alimentation, r√©seau,
                                                refroidissement).</td>
                                        <td>Une seule AZ ne prot√®ge pas contre une panne de zone ou de r√©gion enti√®re.
                                        </td>
                                        <td>Brique de base pour construire des r√©gions 1-AZ, 3-AZ ou des Local Zones.
                                        </td>
                                </tr>
                                <tr>
                                        <td>R√©gion 1-AZ</td>
                                        <td>R√©gion constitu√©e d‚Äôune seule AZ, elle-m√™me compos√©e de un ou plusieurs
                                                datacenters interconnect√©s.</td>
                                        <td>Co√ªt optimis√©, simplicit√© op√©rationnelle, redondance locale (erasure coding
                                                / r√©plication interne), adapt√©e aux besoins g√©n√©raux.</td>
                                        <td>Pas de redondance multi-AZ, vuln√©rable √† une panne totale de la zone, pas de
                                                protection inter-r√©gions.</td>
                                        <td>Dev, environnements de transition, sauvegardes, applications non critiques
                                                ou sensibles au co√ªt. </td>
                                </tr>
                                <tr>
                                        <td>R√©gion 3-AZ</td>
                                        <td>R√©gion compos√©e de trois AZ ind√©pendantes, s√©par√©es g√©ographiquement (‚âà 30
                                                km) avec infrastructures isol√©es.</td>
                                        <td>Haute disponibilit√©, isolation des pannes entre zones, r√©plication
                                                inter-zones possible, faible latence entre AZ, meilleure r√©silience.
                                        </td>
                                        <td>Co√ªt plus √©lev√©, plus complexe √† concevoir et op√©rer, ne prot√®ge pas contre
                                                une panne r√©gionale compl√®te.</td>
                                        <td>Applications critiques, e-commerce, services essentiels, sc√©narios de
                                                reprise apr√®s sinistre, charges de travail n√©cessitant une haute dispo.
                                        </td>
                                </tr>
                                <tr>
                                        <td>Local Zones</td>
                                        <td>AZ unique d√©ploy√©e au plus pr√®s d‚Äôune zone g√©ographique sp√©cifique, avec un
                                                ensemble limit√© de services (Compute / Storage).</td>
                                        <td>Latence tr√®s faible pour les utilisateurs proches, traitement et stockage
                                                localis√©s, aide √† la conformit√© r√©glementaire.</td>
                                        <td>Pas de redondance inter-zones, vuln√©rable √† une panne locale, p√©rim√®tre de
                                                services et capacit√© plus restreints.</td>
                                        <td>Jeux en ligne, temps r√©el, flux vid√©o, edge computing, workloads qui exigent
                                                une localisation stricte des donn√©es. </td>
                                </tr>
                                <tr>
                                        <td>Comparaison rapide</td>
                                        <td>1-AZ : 1 zone / 3-AZ : 3 zones / Local Zone : 1 zone proche des
                                                utilisateurs.</td>
                                        <td>1-AZ : co√ªt bas ; 3-AZ : r√©silience et haute dispo ; Local Zones : latence
                                                minimale.</td>
                                        <td>1-AZ : risque sur panne de zone ; 3-AZ : co√ªt + complexit√© ; Local Zones :
                                                peu de services, pas de multi-AZ.</td>
                                        <td>Choix selon priorit√© : co√ªt (1-AZ), disponibilit√© (3-AZ), latence/proximit√©
                                                (Local Zones). </td>
                                </tr>
                        </tbody>
                </table><br>

                <li>
                        <p>S√©lectionner une image (OS) + cl√© publique SSH √† ajouter : <strong>üëâ dans tous les cas,
                                        prendre l'OS Ubuntu
                                        22.04</strong></p>
                </li>
                <li>Configurer son instance : <strong>üëâ pour un petit mod√®le : 1 instance, pas de script
                                post-installation et pas de sauvegarde automatis√©e</strong> </li><br>

                <table>
                        <thead>
                                <tr>
                                        <th>√âl√©ment</th>
                                        <th>Ce que c‚Äôest</th>
                                        <th>Ce que √ßa implique pour toi maintenant</th>
                                        <th>Quand √ßa devient utile plus tard</th>
                                </tr>
                        </thead>
                        <tbody>
                                <tr>
                                        <td>Nombre d‚Äôinstances √† cr√©er</td>
                                        <td>C‚Äôest le nombre de VM identiques qu‚ÄôOVHcloud va lancer d‚Äôun coup avec la
                                                m√™me configuration (m√™me flavor, m√™me image, m√™me cl√© SSH, etc.). <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011)">[1]</a>
                                                <a target="_blank"
                                                        href="(https://www.ovhcloud.com/fr/public-cloud/virtual-instances/)">[2]
                                                </a>
                                        </td>

                                        <td>Pour ton projet FastAPI/Dash actuel, tu mets une instance. Une seule VM
                                                suffit
                                                largement pour h√©berger ton app et apprendre le cloud sans complexit√© de
                                                ‚Äúscaling‚Äù ni de pr√©prod. <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011)">[1]</a>
                                        </td>
                                        <td>Quand tu feras du <strong>scaling horizontal</strong> (plusieurs instances
                                                derri√®re un <strong>load balancer</strong>) ou que tu voudras cr√©er d‚Äôun
                                                coup plusieurs environnements
                                                identiques (ex. 3 instances FastAPI pour tests de charge), tu pourras
                                                augmenter ce nombre. <br><br>
                                                <u>Exemples :</u> <br>
                                                - Cr√©ation d'une deuxi√®me instance pour une version b√™ta <br>
                                                - Quand le nombre de clients et de requ√™tes explose, on ajoute des
                                                instances pour partager la charge, au lieu de ‚Äúgonfler‚Äù une seule
                                                machine √† l‚Äôinfini. Et dans ce cas l√†, le load balancer sera mis devant
                                                pour r√©partir les requ√™tes entre les 2 instances (puis 3, 4, etc. si
                                                besoin)
                                                <a target="_blank"
                                                        href="(https://www.ovhcloud.com/fr/public-cloud/virtual-instances/)">[2]
                                                </a>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-deployments-modes?id=kb_article_view&sysparm_article=KB0066031)">[3]</a>
                                        </td>
                                </tr>
                                <tr>
                                        <td>Script de post-installation (user-data)</td>
                                        <td>Petit script (souvent shell ou cloud-init) ex√©cut√© automatiquement au
                                                premier d√©marrage de la VM : installation de paquets, cr√©ation
                                                d‚Äôutilisateurs, configuration de base, etc. <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011)">[1]</a>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-launch-script-at-instance-creation?id=kb_article_view&sysparm_article=KB0050924)">[4]</a>
                                        </td>
                                        <td>√Ä ton niveau actuel, tu peux laisser ce champ vide. Tu feras √† la main les
                                                √©tapes d‚Äôinstallation Python, FastAPI, Dash, Uvicorn, etc., une fois
                                                connect√© en SSH. √áa te permet de comprendre ce que tu fais, √©tape par
                                                √©tape. <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011)">[1]</a>
                                        </td>
                                        <td>Plus tard, quand tu automatiseras tes d√©ploiements, tu pourras y mettre un
                                                script qui installe automatiquement Python, ton environnement virtuel,
                                                tes d√©pendances, cr√©e un user ‚Äúapp‚Äù, d√©ploie ton code et d√©marre ton
                                                service FastAPI/Dash d√®s la cr√©ation de l‚Äôinstance. <br><br>
                                                Mais √©tant donn√© qu'on a recours √† une image Docker, cet √©l√©ment aura
                                                peu d'importance.
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-launch-script-at-instance-creation?id=kb_article_view&sysparm_article=KB0050924)">[4]</a>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started-instance?id=kb_article_view&sysparm_article=KB0050764)">[5]</a>
                                        </td>
                                </tr>
                                <tr>
                                        <td>Sauvegarde automatis√©e des instances</td>
                                        <td>Service OVHcloud qui cr√©e r√©guli√®rement des snapshots (copies) complets de
                                                ta VM pour pouvoir la restaurer ou cloner facilement en cas de probl√®me
                                                (erreur, crash, suppression accidentelle). <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-back-up-instance?id=kb_article_view&sysparm_article=KB0051155)">[6]</a>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/en-public-cloud-compute-back-up-instance?id=kb_article_view&sysparm_article=KB0051162)">[7]</a>
                                        </td>
                                        <td>Ce n‚Äôest pas indispensable pour un petit environnement de test et √ßa a un
                                                co√ªt suppl√©mentaire. Tu peux commencer sans sauvegarde auto, √† condition
                                                de garder ton code versionn√© (Git) et ta config document√©e. <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-back-up-instance?id=kb_article_view&sysparm_article=KB0051155)">[6]</a>
                                        </td>
                                        <td>Utile quand ton instance h√©berge une app importante ou des donn√©es que tu ne
                                                veux pas perdre : tu peux restaurer rapidement apr√®s un incident ou
                                                revenir √† un √©tat ‚Äúpropre‚Äù connu (avant une grosse mise √† jour par
                                                exemple). <br>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/fr-public-cloud-compute-back-up-instance?id=kb_article_view&sysparm_article=KB0051155)">[6]</a>
                                                <a target="_blank"
                                                        href="(https://help.ovhcloud.com/csm/en-public-cloud-compute-create-restore-virtual-server-from-backup?id=kb_article_view&sysparm_article=KB0050670)">[8]</a>
                                        </td>
                                </tr>
                        </tbody>
                </table><br>

                <strong>Vocabulaire</strong><br>

                <table>
                        <thead>
                                <tr>
                                        <th>Concept</th>
                                        <th>D√©finition</th>
                                </tr>
                        </thead>
                        <tbody>
                                <tr>
                                        <td>Scaling horizontal ("scale out")</td>
                                        <td>Consiste √† ajouter des machines (instances) identiques pour partager la
                                                charge, au lieu de rendre une seule machine toujours plus grosse</td>
                                </tr>
                                <tr>
                                        <td>Load balancer</td>
                                        <td>Composant qui se place devant plusieurs instances et r√©partit les requ√™tes
                                                entre elles</td>
                                </tr>
                        </tbody>
                </table><br>


                <li>Confirmez votre r√©seau : <strong> üëâ choisir le mode public pour publier une application</strong>
                </li>
                <br>

                <table>
                        <thead>
                                <tr>
                                        <th>Mode r√©seau</th>
                                        <th>D√©finition</th>
                                        <th>Exemple concret</th>
                                </tr>
                        </thead>
                        <tbody>
                                <tr>
                                        <td>Mode public</td>
                                        <td>L‚Äôinstance re√ßoit une adresse IP publique et est directement accessible
                                                depuis Internet si les ports sont ouverts. </td>
                                        <td>Instance Ubuntu avec FastAPI expos√©e sur une IP publique, mais tu limites
                                                l‚Äôacc√®s au dashboard en autorisant uniquement ton adresse IP (firewall
                                                OVH). </td>
                                </tr>
                                <tr>
                                        <td>Mode priv√©</td>
                                        <td>L‚Äôinstance n‚Äôa pas d‚ÄôIP publique : elle est joignable uniquement via un
                                                r√©seau priv√© (vRack / Private Network) et, √©ventuellement, via une
                                                Gateway, un Load Balancer ou un VPN. </td>
                                        <td>Comme un r√©seau interne d‚Äôentreprise : plusieurs serveurs (API, BDD) se
                                                parlent entre eux dans un r√©seau priv√©, sans √™tre expos√©s directement
                                                sur Internet, seul un reverse proxy / LB public fait l‚Äôinterface. </td>
                                </tr>
                        </tbody>
                </table><br>

                <li>Facturation : <strong>üëâ pour une application test avec plus de flexibilit√©, choisir une facturation
                                horaire.</strong><br> Ne pas h√©siter √† suspendre la facturation via l'ic√¥ne des 3
                        boutons verticales de la colonne <i>Actions</i> en s√©lectionnant l'instance cibl√©e, pour √©viter
                        de subir des
                        frais non souhait√©s üòâ(menu √† gauche ‚Üí partie "COMPUTE" ‚Üí sous-partie "Instances").</li>
        </ul><br>

        <!-- ****************** Chapitre V ****************** -->
        <h2><a target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011">5.
                        Se
                        connecter √† l'instance</a></h2>

        <p><strong>Pour une mise √† jour de Linux :</strong></p>
        <ul>
                <li>Tapper d'abord dans le shell : <i>sudo apt update</i></li><br>
                <li>Puis tapper ensuite dans le shell : <i>sudo apt upgrade</i></li><br>
                <li>Si une demande de mise √† jour est demand√©e, tapper <i>Y</i></li><br>
        </ul>

        <p><strong>Pour se connecter √† l'instance :</strong></p>
        <ul>
                <li>Sur le site OVH, apr√®s avoir s√©lectionn√© le projet, aller sur le menu √† gauche ‚Üí partie "COMPUTE" ‚Üí
                        sous-partie "Instances" (le statut doit √™tre en mode "activ√©")</li><br>
                <li>Noter le nom de l'instance : <strong>üëâ ici c'est : d2-2-sbg5</strong> </li><br>
                <li><strong>Noter l‚ÄôIPv4 publique</strong> (colonne "IP Publique(s)" ‚Üí 1√®re ligne. La 2√®me ligne
                        concerne l'IPv6 publique)</li><br>
                <li>Ouvrir Windows PowerShell et saisir ceci pour se connecter : <br>
                        <strong> ssh -i $env:USERPROFILE\.ssh\id_ed25519 ubuntu@IPv4</strong>
                </li>
                <ul>
                        <li><i>ssh -i $env:USERPROFILE\.ssh\id_ed25519</i> ‚Üí indique la cl√© priv√©e</li>
                        <li><i>ubuntu</i> ‚Üí utilisateur par d√©faut sur Ubuntu 22.04 OVH</li>
                        <li><i>IPv4</i> ‚Üí saisir l'adresse IPv4 de mon instance</li>
                </ul><br>
                <li>Dans Windows PowerShell, si la question suivante s'affiche : <i>‚ÄúThe authenticity of host ...‚Äù</i>
                        üëâ tapper <i>yes</i></li><br>
                <li>Entrer la passphrase conserv√©e dans Keypass</li><br>
                <li>Un message suivant appara√Æt, confirmant que le port 22 r√©pond bien : <i>Connection closed by IPv4
                                port 22</i> (IPv4 : adresse IPv4 de mon instance)</li><br>
                <li>Par la suite on doit avoir la ligne de commande suivante qui s'affiche, confirmant qu'on est bien
                        dans le shell de la VM : <i>ubuntu@d2-2-sbg5:~$</i>
                </li>
        </ul><br>


        <!-- ****************** Chapitre VI ****************** -->
        <h2><a target="_blank"
                        href="https://help.ovhcloud.com/csm/fr-public-cloud-compute-getting-started?id=kb_article_view&sysparm_article=KB0051011">6.
                        Mise en place de l'application</a></h2>


        <p><strong>Docker sur la VM OVH : </strong></p>
        <ul>
                <li>V√©rifier si Docker a bien √©t√© install√© sur la VM, en saisissant √† partir du shell de la VM (la
                        ligne de commande commence par exemple <i>ubuntu@d2-2-sbg5:~$</i>) :</li>
                <ul>
                        <li><strong>docker --version</strong> üëâ on aura une r√©ponse du style : <i>Docker version
                                        28.2.2, build
                                        28.2.2-0ubuntu1~22.04.1</i></li>
                        <li>√† d√©faut, Docker n'est pas install√© sur la VM, il faut donc saisir les instructions
                                suivantes toujours dans le shell de la VM :</li>
                        <ul>
                                <li><strong>sudo apt install docker.io -y</strong></li>
                                <li><strong>sudo usermod -aG docker ubuntu</strong></li><br>
                        </ul>
                </ul>
                <li>Retourner en local dans le shell, puis saisir <strong>docker info</strong> pour √™tre s√ªr d'avoir
                        tous les conteneurs stock√©s dans l'application Docker Desktop</li><br>
                <li>Toujours en local, saisir <strong>docker images</strong> pour r√©cup√©rer les valeurs de l'image √†
                        importer dans les colonnes "REPOSITORY" et "TAG"</li><br>
                <li> Exporter l‚Äôimage en dossier archiv√© .tar sur le PC, en saisissant dans le shell en local üëâ
                        <strong>docker save REPOSITORY:TAG -o REPOSITORY.tar</strong> avec :
                        <ul>
                                <li>"REPOSITORY" ‚Üí nom du repository de l'image √† importer sur la VM</li>
                                <li>"TAG" ‚Üí nom du TAG de l'image √† importer sur la VM</li>
                        </ul><br>
                </li>
                <li>V√©rifier que le dossier archiv√© .tar a bien √©t√© cr√©√© en local en saisissant dans le shell en local
                        üëâ
                        <strong>ls cloudprojet003.tar</strong>
                </li><br>
                <li>Copier le dossier archiv√© .tar vers la VM OVH en saissisant dans le shell en local üëâ
                        <strong>scp -i $env:USERPROFILE\.ssh\id_ed25519 REPOSITORY.tar
                                ubuntu@IPv4:/home/ubuntu/</strong>

                </li><br>
                <li>Sur le terminal de la VM (<i>en saisissant pr√©alablement ssh -i
                                $env:USERPROFILE\.ssh\id_ed25519 ubuntu@IPv4</i>), saisir ceci pour voir si le
                        dossier archiv√© .tar a bien √©t√© transf√©r√© dans la VM üëâ <strong>ls -lh</strong></li><br>
                <li>Charger l'image dans Docker sur la VM, en saissisant dans le terminal de la VM üëâ
                        <strong>docker load -i REPOSITORY.tar</strong>
                </li><br>
                <li>V√©rifier que l'image dans Docker a bien √©t√© charg√©e sur la VM en saisissant dans le shell de
                        la VM üëâ <strong>docker images</strong></li><br>
                <li>Lancer le conteneur sur la VM en saisissant dans le shell de la VM üëâ
                        <br><strong>docker run -d --name REPOSITORY-container -p PortReseau:PortReseau
                                REPOSITORY:TAG</strong>
                </li>
                <ul>
                        <li>"-d" ‚Üí mode d√©tach√© (en arri√®re-plan)</li>
                        <li>"-p PortReseau:PortReseau" ‚Üí mappe le port PortReseau de la VM vers le port PortReseau
                                dans le conteneur</li>
                        <li>"PortReseau" ‚Üí "8000" par exemple pour fastapi, les ports sont mentionn√©s dans l'application
                                DockerDesktop</li>
                        <li>"REPOSITORY:TAG" ‚Üí mon image</li>
                </ul><br>
                <li>V√©rifier que le conteneur tourne en saisissant dans le terminal de la VM üëâ <strong>docker
                                ps</strong>
                </li>
        </ul><br>

        <p><strong>Pour relancer une application suspendue :</strong></p>
        <ul>
                <li>Relancer l'instance via le site OVH</li><br>
                <li>Se reconnecter en SSH dans le shell en saisissant üëâ <strong>ssh -i $env:USERPROFILE\.ssh\id_ed25519
                                ubuntu@51.91.150.228</strong>
                </li><br>
                <li>V√©rifier que l'image est encore l√† en saisissant dans le shell de la VM üëâ <strong>docker
                                images</strong>
                </li><br>
                <li>Relancer le conteneur en saissant dans le shell de la VM üëâ <strong>docker run -d --name
                                REPOSITORY-container -p PortReseau:PortReseau
                                REPOSITORY:TAG</strong>
                </li><br>
                <li>V√©rifier que le conteneur a bien √©t√© relanc√© en saissisant dans le shell de la VM üëâ <strong>docker
                                ps</strong>
                </li>
        </ul>
        </ul>

        <br><br>
        <a id='lien' href="./index.html">Retour au sommaire</a>
</body>

</html>